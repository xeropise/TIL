## 캐시(Cache)란?

- 자주 사용하는 데이터나 값을 미리 복사해 놓은 임시 장소를 말한다.

- 저장 공간이 작고 비용이 비싼 대신 빠른 성능을 제공한다.

  ![다운로드](https://user-images.githubusercontent.com/50399804/132229275-1f99fa2e-ca94-44c6-aa5a-c1fcd4773e57.png)

  > 설명은 [여기](https://gourmet-eundong.tistory.com/22)를 참조하자.

- 데이터를 미리 저장해 놓으면, 계산이나 접근 시간 없이 빠른속도로 데이터에 접근 가능하다.

- 말하자면 데이터를 불러오는 경우에 DBMS 혹은 서버에 요청하는 것이 아니라 Memory에 데이터를 저장했다가 불러다 쓰는 것을 말한다.

- DBMS의 부하의 줄이고 성능을 높이기 위해 보통 사용한다.

![img](https://user-images.githubusercontent.com/50399804/132231485-cc76d6b5-73fb-4ba3-9e99-f0c4b6804e50.png)

<br>

---

## 캐시는 언제 사용해야 할까?

- 네이버나 다음과 같은 검색 사이트에서 보통 사이트 메인에 있는 정보들은 수많은 사용자들이 처음보게되는 하면이고, 보통 이런정보들은 잘 변하지 않는다.

- 즉, 반복적으로 동일한 결과를 돌려주고, 잘 변하지 않는 경우의 데이터

- 접근 시간에 비해 원래 데이터를 접근하는 시간이 오래 걸리는 균일한 데이터에 캐시를 사용하면 좋다.

<br>

![17110B4350CC5EC51D](https://user-images.githubusercontent.com/50399804/132230034-af021bca-0241-4a33-8562-8867a31a5b9b.jpeg)

> Long tail 법칙에 따르면, 20%의 요구가 시스템 리소스의 대부분을 잡아먹는 다고 한다. 그럼 20%에 캐시를 사용하면 리소스 사용량을 대폭 줄일 수 있다는 말이다.

<br>

---

## 캐시는 어떻게 동작할까?

- 데이터 요청 시, 원본 데이터를 찾기 위해 캐시의 내부부터 탐색한다.

  - 캐시에 원하는 데이터가 없거나 (Cache miss), 너무 오래되었을 경우(Expiration) 원본 데이터를 탐색하여 데이터를 가져온다. 가져오면서 해당 데이터를 복사하거나 혹은 갱신한다.

  - 캐시에 원하는 데이터가 있으면 데이터 탐색을 진행하지 않고, 캐시로부터 해당 데이터를 제공한다. (Cache hit)

- 캐시 공간은 비교적 작으므로 안 쓰는 데이터부터 삭제하고, 공간을 확보한다.

<br>

---

## 캐시의 종류

### Local Cache VS Global Cache

- Local Cache

  - 서버마다 캐시를 따로 저장한다.

  - 다른 서버의 캐시를 참조하기 어렵다.

  - 서버 내에서 작동하기 때문에 속도가 빠르다.

  - 로컬 서버 장비의 리소스 (Memory, Disk) 를 이용한다.

- Global Cache

  - 여러 서버에서 Cache Server에 접근하여 사용하는 캐시

  - 데이터를 분산하여 저장할 수 있다.

    - Replication : 데이터 복제, 2개 이상의 DBMS 시스템을 Master / Slave 로 나눠서 동일한 데이터를 저장하는 방식
    - Sharding : 데이터 분산 저장

  - Local Cache에 비해 상대적으로 느리지만 별도의 Cache Server를 이용하기 때문에 서버 간 데이터 공유가 원활하다는 장점이 있다.
